{"version":3,"sources":["model.ts","users.ts"],"names":[],"mappings":"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","file":"9e493f97e7c0eb1c7718981c3e5f8ff3.map","sourcesContent":["export interface User {\r\n    name:string;\r\n    surname:string;\r\n    age:number;\r\n    login:string;\r\n    pass:string;\r\n}\r\n\r\nexport class User implements User{\r\n    constructor(){}\r\n    addUser(name: string, surname: string, age: number, login:string, pass:string){\r\n        return{\r\n            name: name,\r\n            surname: surname,\r\n            age: age,\r\n            login: login,\r\n            pass: pass\r\n        }\r\n    }\r\n}\r\n\r\n","import {User} from './model';\r\n\r\nlet user = new User();\r\n\r\nlet pageNumber = 0;\r\n\r\nfunction getUsersCounter (): Promise<any>{\r\n    return fetch('/getUsers')\r\n        .then(response => response.json()\r\n            .then((data)=>{\r\n                return {response, data};\r\n        }))\r\n        .then((res)=>{\r\n            console.log('response code: ', res.response, 'data: ', res.data);\r\n        })\r\n        .catch(err => console.log);\r\n}\r\n\r\nfunction getUsersPerPage (pageNumber: number, numberOfElements: number):Promise<any>{\r\n    numberOfElements = Math.max(1, numberOfElements);\r\n    let firstSemafor = 1 + numberOfElements * pageNumber;\r\n    let secondSemafor = numberOfElements + numberOfElements * pageNumber;\r\n    return fetch(`/getUsers?firstSemafor=${firstSemafor}&secondSemafor=${secondSemafor}`)\r\n        .then(response => response.json()\r\n            .then(data => {return{response, data}}))\r\n        .catch(err => console.log);\r\n}\r\n\r\nfunction addNewUser (): Promise<any>{\r\n    let inputElements = document.querySelectorAll('#formularz input');\r\n    return new Promise(function (resolve, reject){\r\n        let newUser = user.addUser((<HTMLInputElement>inputElements[0]).value,\r\n            (<HTMLInputElement>inputElements[1]).value,\r\n            parseInt((<HTMLInputElement>inputElements[2]).value),\r\n            (<HTMLInputElement>inputElements[3]).value,\r\n            (<HTMLInputElement>inputElements[4]).value\r\n        );\r\n        resolve(newUser);\r\n    }).then((data)=>{\r\n        return fetch(\"/addUser\", {\r\n            method: \"post\",\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n    });\r\n}\r\n\r\nlet showUsers = function () {\r\n    return Promise.all([\r\n        getUsersCounter().then((res => res.json()),\r\n        getUsersPerPage(1,1).then((res => res.json())\r\n    ])\r\n}\r\n\r\n// let showUsers = function (){\r\n//         let tbody = document.querySelector('.table tbody');\r\n//         while (tbody.firstChild) {\r\n//             tbody.removeChild(tbody.firstChild);\r\n//         }\r\n//         fetch('/getUsers').then((data)=>{\r\n//             data.json().then(function (data){\r\n//                 console.log(JSON.stringify(data));\r\n//                 let paginDiv = document.querySelector('.pagin');\r\n//                 let newP = document.createElement('p');\r\n//                 newP.innerText = '' + data;\r\n//                 paginDiv.appendChild(newP);\r\n//             })\r\n//         })\r\n//\r\n//         fetch(`/getUsers/` + pageNumber).then(function (data){\r\n//             data.json().then(function (data){\r\n//                 data.forEach((obj, index)=>{\r\n//                     const trElement = document.createElement('tr');\r\n//                     const thElement = document.createElement('th');\r\n//                     thElement.innerHTML = index;\r\n//                     trElement.appendChild(thElement);\r\n//                     tbody.appendChild(trElement);\r\n//                     for(let i in obj){\r\n//                         const thElement = document.createElement('th');\r\n//                         thElement.innerHTML = obj[i];\r\n//                         trElement.appendChild(thElement);\r\n//                         tbody.appendChild(trElement);\r\n//                     }\r\n//                 })\r\n//             });\r\n//         })\r\n// };\r\n//\r\n// window.addEventListener(\"load\", showUsers);\r\n\r\nlet form = document.getElementById('formularz');\r\n\r\n\r\n// function example(currentPage = 0, elementsPerPage = 10) {\r\n//     elementsPerPage = Math.max(1, elementsPerPage);\r\n//     Promise.all([\r\n//         fetch('/usersCount').then((res => res.json())),\r\n//         fetch('/users?page=' + currentPage + '&elementsPerPage=' + elementsPerPage).then((res => res.json())),\r\n//     ]).then((results) => {\r\n//         const count = results[0];\r\n//         const users = results[1];\r\n//     });\r\n// }\r\n\r\nform.addEventListener('submit',(ev)=>{\r\n    addNewUser().then((response) => {\r\n        console.log(response);\r\n            response.json().then((data) => {\r\n                console.log('tutaj: ', data);\r\n            });\r\n        })\r\n    event.preventDefault();\r\n})"]}