{"version":3,"sources":["model.ts","utilities.ts","users.ts"],"names":[],"mappings":"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","file":"9e493f97e7c0eb1c7718981c3e5f8ff3.map","sourcesContent":["export interface userModel {\r\n    addUser(name: string, surname: string, age: number, login:string, pass:string);\r\n\r\n}\r\n\r\nexport class User{\r\n\r\n    constructor(){}\r\n\r\n    public static addUser(name: string, surname: string, age: number, login:string, pass:string){\r\n        return{\r\n            name: name,\r\n            surname: surname,\r\n            age: age,\r\n            login: login,\r\n            pass: pass\r\n        }\r\n    }\r\n\r\n    postUser(name: string, surname: string, age: number, login:string, pass:string): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            let newUser = User.addUser(name, surname, age, login, pass);\r\n            resolve(newUser);\r\n        }).then((data) => {\r\n            return fetch(\"/addUser\", {\r\n                method: \"post\",\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n        });\r\n    }\r\n\r\n    getUsersCounter (): Promise<any>{\r\n        return fetch('/usersCounter')\r\n            .then(response => response.json()\r\n                .then((data)=>{\r\n                    return data;\r\n                }))\r\n            .catch(err => console.log);\r\n    }\r\n\r\n    getUsersPerPage (obj:{currentPage: number, elementsPerPage: number}): Promise<any>{\r\n        obj.elementsPerPage = Math.max(1, obj.elementsPerPage);\r\n\r\n        let firstSemafor = obj.elementsPerPage * obj.currentPage;\r\n        let secondSemafor = obj.elementsPerPage + obj.elementsPerPage * obj.currentPage;\r\n\r\n        return fetch(`/getUsers?firstSemafor=${firstSemafor}&secondSemafor=${secondSemafor}`)\r\n            .then(response => response.json()\r\n                .then(data => {return{response, data}}))\r\n            .catch(err => console.log);\r\n    }\r\n\r\n}\r\n\r\n","import {User} from \"./model\";\r\n\r\nexport class Utilities{\r\n    constructor(){};\r\n\r\n    removeChildElements(parentEl){\r\n        while (parentEl.firstChild) {\r\n            parentEl.removeChild(parentEl.firstChild);\r\n        }\r\n    }\r\n\r\n    generatePagination(counter, element, pageData, callback) {\r\n        let buttonCounter = parseInt(counter) / parseInt(pageData.numberOfElements);\r\n\r\n        this.removeChildElements(element);\r\n\r\n        if (buttonCounter > 2) {\r\n            this.generateNextBackButtons(element, pageData.currentPage - 1, '<<', buttonCounter, pageData, callback);\r\n        }\r\n\r\n        for (let i = 0; i < buttonCounter; i++) {\r\n            let input = document.createElement('input');\r\n            input.type = 'button';\r\n            input.innerText = `${i}`;\r\n            input.value = `${i}`;\r\n            input.addEventListener('click', function (ev) {\r\n                pageData.currentPage = parseInt(this.value);\r\n                callback();\r\n            });\r\n            element.appendChild(input);\r\n        }\r\n\r\n        if (buttonCounter > 2) {\r\n            this.generateNextBackButtons(element, pageData.currentPage + 1, '>>', buttonCounter, pageData, callback);\r\n        }\r\n    }\r\n\r\n    generateNextBackButtons(parent, value, text, buttonCounter, pageData, callback) {\r\n        let input = document.createElement('input');\r\n        input.type = 'button';\r\n        input.innerText = text;\r\n        input.value = text;\r\n        if (value >= 0 && value < buttonCounter) {\r\n            console.log('value: ', value, 'elementsPerPage: ', pageData.elementsPerPage);\r\n            input.addEventListener('click', function (ev) {\r\n                pageData.currentPage = value;\r\n                callback();//showUser();\r\n            });\r\n        } else {\r\n            input.removeEventListener('click', function (ev) {\r\n                pageData.currentPage = value;\r\n                callback();//showUser();\r\n            })\r\n        }\r\n        parent.appendChild(input);\r\n    }\r\n\r\n\r\n\r\n    generateSlider(sliderEl, sliderVal, user: User, pageData, callback) {\r\n        let input = document.createElement('input');\r\n        this.removeChildElements(sliderEl);\r\n        input.type = 'range';\r\n        input.min = '1';\r\n        user.getUsersCounter().then((res) => {\r\n            input.max = res;\r\n        });\r\n        input.value = '1';\r\n        input.className = 'slider';\r\n        input.id = 'myRange';\r\n        input.addEventListener('change', function (ev) {\r\n            pageData.elementsPerPage = parseInt(this.value);\r\n            sliderVal.value = this.value;\r\n            callback();\r\n        })\r\n        sliderEl.appendChild(input);\r\n    }\r\n\r\n    generateUsersTable(arr, tBodyElement, pageData) {\r\n        this.removeChildElements(tBodyElement);\r\n        let lastIndex = pageData.elementsPerPage;\r\n        arr.forEach((obj, index) => {\r\n            const trElement = document.createElement('tr');\r\n            const thElement = document.createElement('th');\r\n            thElement.innerHTML = (parseInt(index) + 1 + (pageData.currentPage * lastIndex)).toString();\r\n            trElement.appendChild(thElement);\r\n            tBodyElement.appendChild(trElement);\r\n            for (let i in obj) {\r\n                const thElement = document.createElement('th');\r\n                thElement.innerHTML = obj[i];\r\n                trElement.appendChild(thElement);\r\n                tBodyElement.appendChild(trElement);//czy napewno nie tbody\r\n            }\r\n        })\r\n    }\r\n\r\n}","import {User} from './model';\r\nimport {Utilities} from './utilities'\r\n\r\nlet user = new User();\r\nlet utility = new Utilities();\r\n\r\nconst tbody = document.querySelector('.table tbody');\r\nconst paginEl = document.querySelector('.pagin');\r\nconst form = document.getElementById('formularz');\r\nconst slider = document.querySelector('.slidecontainer');\r\nlet sliderVal = document.getElementById('slidecontainerval');\r\n\r\nlet pageData = {\r\n    currentPage: 0,\r\n    elementsPerPage: 5\r\n}\r\n\r\nlet currentPage = 0;\r\nlet elementsPerPage = 5;\r\n\r\nform.addEventListener('submit', (ev) => {\r\n    let inputElements = document.querySelectorAll('#formularz input');\r\n    user.postUser((<HTMLInputElement>inputElements[0]).value,\r\n        (<HTMLInputElement>inputElements[1]).value,\r\n        parseInt((<HTMLInputElement>inputElements[2]).value),\r\n        (<HTMLInputElement>inputElements[3]).value,\r\n        (<HTMLInputElement>inputElements[4]).value\r\n    ).then(() => {\r\n        showUsers();\r\n        generateSlider();\r\n    })\r\n    event.preventDefault();\r\n})\r\n\r\n\r\n\r\n\r\nlet showUsers = function (): Promise<any> {\r\n    return Promise.all([\r\n        user.getUsersCounter(),\r\n        user.getUsersPerPage(currentPage, elementsPerPage)\r\n    ]).then((res) => {\r\n        const counter = res[0];\r\n        const usersArr = res[1].data;\r\n        console.log('users Arr :', usersArr);\r\n        generateUsersTable(usersArr, tbody);\r\n        generatePagination(counter, elementsPerPage, paginEl);\r\n    }).catch(err => console.log);\r\n}\r\n\r\nwindow.onload = generateSlider;\r\nshowUsers();\r\n"]}