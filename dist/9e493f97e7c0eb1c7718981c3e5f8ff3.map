{"version":3,"sources":["model.ts","users.ts"],"names":[],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AD5ID,IAAA,OAAA,aAAA,YAAA;AACI,aAAA,IAAA,GAAA,CAAe;AACf,SAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,IAAR,EAAsB,OAAtB,EAAuC,GAAvC,EAAoD,KAApD,EAAkE,IAAlE,EAA6E;AACzE,eAAM;AACF,kBAAM,IADJ;AAEF,qBAAS,OAFP;AAGF,iBAAK,GAHH;AAIF,mBAAO,KAJL;AAKF,kBAAM;AALJ,SAAN;AAOH,KARD;AASJ,WAAA,IAAA;AAXA,CAAA,EAAA;AAAa,QAAA,IAAA,GAAA,IAAA","file":"9e493f97e7c0eb1c7718981c3e5f8ff3.map","sourcesContent":["export interface User {\r\n    name:string;\r\n    surname:string;\r\n    age:number;\r\n    login:string;\r\n    pass:string;\r\n}\r\n\r\nexport class User implements User{\r\n    constructor(){}\r\n    addUser(name: string, surname: string, age: number, login:string, pass:string){\r\n        return{\r\n            name: name,\r\n            surname: surname,\r\n            age: age,\r\n            login: login,\r\n            pass: pass\r\n        }\r\n    }\r\n}\r\n\r\n","import {User} from './model';\r\n\r\nlet user = new User();\r\n\r\nlet pageNumber = 0;\r\nlet tbody = document.querySelector('.table tbody');\r\nlet paginEl = document.querySelector('.pagin');\r\nlet form = document.getElementById('formularz');\r\nlet slider = document.querySelector('.slidecontainer');\r\n\r\nlet currentPage = 0;\r\nlet elementsPerPage = 5;\r\n\r\n\r\nfunction getUsersCounter (): Promise<any>{\r\n    return fetch('/usersCounter')\r\n        .then(response => response.json()\r\n            .then((data)=>{\r\n                return data;\r\n        }))\r\n        .catch(err => console.log);\r\n}\r\n\r\nfunction getUsersPerPage (pageNumber: number, numberOfElements: number){\r\n    numberOfElements = Math.max(1, numberOfElements);\r\n\r\n    let firstSemafor = numberOfElements * pageNumber;\r\n    let secondSemafor = numberOfElements + numberOfElements * pageNumber;\r\n\r\n    return fetch(`/getUsers?firstSemafor=${firstSemafor}&secondSemafor=${secondSemafor}`)\r\n        .then(response => response.json()\r\n            .then(data => {return{response, data}}))\r\n        .catch(err => console.log);\r\n}\r\n\r\nlet generateUsersTable = function (arr, tBodyElement) {\r\n    while (tBodyElement.firstChild) {\r\n        tBodyElement.removeChild(tBodyElement.firstChild);\r\n    }\r\n    arr.forEach((obj, index)=>{\r\n        const trElement = document.createElement('tr');\r\n        const thElement = document.createElement('th');\r\n        thElement.innerHTML = index;\r\n        trElement.appendChild(thElement);\r\n        tBodyElement.appendChild(trElement);\r\n        for(let i in obj){\r\n            const thElement = document.createElement('th');\r\n            thElement.innerHTML = obj[i];\r\n            trElement.appendChild(thElement);\r\n            tbody.appendChild(trElement);\r\n        }\r\n    })\r\n}\r\n\r\nlet generateSlider = function(){\r\n\r\n    let input = document.createElement('input');\r\n    let sliderVal = document.getElementById('slidecontainerval');\r\n    while (slider.firstChild) {\r\n        slider.removeChild(slider.firstChild);\r\n    }\r\n    input.type = 'range';\r\n    input.min = '1';\r\n    getUsersCounter().then((res)=>{\r\n        input.max = res;\r\n    });\r\n    input.value = '1';\r\n    input.className = 'slider';\r\n    input.id = 'myRange';\r\n    input.addEventListener('change', function (ev){\r\n        elementsPerPage = parseInt(this.value);\r\n        sliderVal.value = this.value;\r\n        showUsers();\r\n    })\r\n    // console.log(input);\r\n    slider.appendChild(input);\r\n    // console.log(slider);\r\n}\r\n\r\nwindow.onload = generateSlider;\r\n\r\nlet generatePagination = function (counter, numberOfElements, element){\r\n    let buttonCounter = parseInt(counter)/parseInt(numberOfElements);\r\n    while (element.firstChild) {\r\n        element.removeChild(element.firstChild);\r\n    }\r\n    for(let i = 0; i < buttonCounter; i++){\r\n        let input = document.createElement('input');\r\n        input.type = 'button';\r\n        input.innerText = `${i}`;\r\n        input.value = `${i}`;\r\n        input.addEventListener('click', function(ev){\r\n            currentPage = parseInt(this.value);\r\n            showUsers();\r\n        } )\r\n        element.appendChild(input);\r\n    }\r\n}\r\n\r\nlet showUsers = function () {\r\n    return Promise.all([\r\n        getUsersCounter(),\r\n        getUsersPerPage(currentPage,elementsPerPage)\r\n    ]).then((res)=>{\r\n        const counter = res[0];\r\n        const usersArr = res[1].data;\r\n        console.log('users Arr :', usersArr);\r\n        generateUsersTable(usersArr, tbody);\r\n        generatePagination(counter, elementsPerPage, paginEl);\r\n\r\n    })\r\n}\r\n\r\nshowUsers().catch(err=>console.log);\r\n\r\nform.addEventListener('submit',(ev)=>{\r\n    addNewUser().then((response) => {\r\n        console.log(response);\r\n            response.json().then((data) => {\r\n                console.log('tutaj: ', data);\r\n            });\r\n        })\r\n    event.preventDefault();\r\n})\r\n\r\nfunction addNewUser (): Promise<any>{\r\n    let inputElements = document.querySelectorAll('#formularz input');\r\n    return new Promise(function (resolve, reject){\r\n        let newUser = user.addUser((<HTMLInputElement>inputElements[0]).value,\r\n            (<HTMLInputElement>inputElements[1]).value,\r\n            parseInt((<HTMLInputElement>inputElements[2]).value),\r\n            (<HTMLInputElement>inputElements[3]).value,\r\n            (<HTMLInputElement>inputElements[4]).value\r\n        );\r\n        resolve(newUser);\r\n    }).then((data)=>{\r\n        return fetch(\"/addUser\", {\r\n            method: \"post\",\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n    }).then((res)=>{\r\n        showUsers();\r\n        generateSlider();\r\n    });\r\n}"]}